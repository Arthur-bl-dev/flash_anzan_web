<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flash Anzan</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <link rel="shortcut icon" href="image/favicon.ico">
    <link href="assets/bootstrap@5.0.0-beta1.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/index.css?ver=0.11.1">
    <script src="assets/bootstrap@5.0.0-beta1.bundle.min.js"></script>
    <script src="assets/howler_2_2_1.min.js"></script>
    <script type="text/javascript" src="lib/shortcut.js"></script>
</head>
<body class="hide-cursor">
<div id="calculate-area" class="calculate-area" data-full-screen="0">
    <div id="header-message" class="font"></div>
    <div id="question-number-area" class="number-area abacus-font"></div>
    <p id="question-info-label" class="display-none"></p>
</div>
<hr class="my-2">
<div class="operation-panel">
    <div class="container">
        <button type="button" id="help-button" class="btn btn-outline-info me-2"
                data-bs-toggle="modal" data-bs-target="#helpModal">
            <i class="bi bi-keyboard"></i><span class="ps-2">キーボードショートカット</span>
        </button>
        <button type="button" id="open-common-more-config-button" class="btn btn-outline-light me-2"
                data-bs-toggle="modal" data-bs-target="#commonMoreConfigModal">
            <i class="bi bi-gear-fill"></i><span class="ps-2">環境設定</span>
        </button>
    </div>
    <hr class="my-2">
    <div class="container">
        <button type="button" id="load-params-button" class="btn btn-outline-warning me-2"
                data-bs-toggle="modal" data-bs-target="#loadParamsConfirmModal">
            <i class="bi bi-folder2-open"></i><span class="ps-2">Load</span>
        </button>
        <button type="button" id="save-params-button" class="btn btn-outline-warning me-2"
                data-bs-toggle="modal" data-bs-target="#saveParamsConfirmModal">
            <i class="bi bi-save"></i><span class="ps-2">Save</span>
        </button>
        <button type="button" id="delete-params-button" class="btn btn-outline-warning me-2"
                data-bs-toggle="modal" data-bs-target="#deleteParamsConfirmModal">
            <i class="bi bi-trash"></i><span class="ps-2">Delete</span>
        </button>
    </div>
    <hr class="my-2">
    <div class="container">
        <button type="button" id="start-button" class="btn btn-danger me-2" onclick="flash();" disabled>
            <i class="bi bi-play-fill"></i><span class="ps-2">Start</span>
        </button>
        <button type="button" id="repeat-button" class="btn btn-danger me-2" onclick="flash({repeat: true});"
                disabled>
            <i class="bi bi-arrow-repeat"></i><span class="ps-2">Repeat</span>
        </button>
        <button type="button" id="number-history-button" class="btn btn-info me-2"
                data-bs-toggle="modal" data-bs-target="#numberHistoryModal" disabled>
            <i class="bi bi-journal-text"></i><span class="ps-2">Numbers</span>
        </button>
    </div>
    <hr class="my-2">
    <div class="container">
        <div id="current-mode" class="display-none"></div>
        <ul class="nav nav-pills mb-2" id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="pills-addition-tab" data-bs-toggle="pill" href="#addition-mode-config"
                   role="tab" aria-controls="pills-addition" aria-selected="true"
                   onclick="changeMode('addition');">
                    <i class="bi bi-plus"></i><span class="ps-2">たし算</span>
                </a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link disabled" id="pills-subtraction-tab" data-bs-toggle="pill" href="" role="tab"
                   aria-controls="pills-subtraction" aria-selected="false" onclick="changeMode('subtraction');">
                    <i class="bi bi-dash"></i><span class="ps-2">ひき算</span>
                </a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="pills-multiplication-tab" data-bs-toggle="pill"
                   href="#multiplication-mode-config" role="tab" aria-controls="pills-multiplication"
                   aria-selected="false" onclick="changeMode('multiplication');">
                    <i class="bi bi-x"></i><span class="ps-2">かけ算</span>
                </a>
            </li>
        </ul>
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active w-auto" id="addition-mode-config" role="tabpanel"
                 aria-labelledby="nav-home-tab">
                <div class="row mb-2">
                    <div class="col">
                        <label for="addition-digit" class="text-light">桁数</label>
                        <div class="input-group">
                            <input type="text" inputmode="decimal" id="addition-digit" class="form-control text-end"
                                   autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">桁</span>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="input-group"></div>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col">
                        <label for="addition-length" class="text-light">口数</label>
                        <div class="input-group">
                            <input type="text" inputmode="decimal" id="addition-length" class="form-control text-end"
                                   autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">口</span>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <label for="addition-time" class="text-light">秒数</label>
                        <div class="input-group col">
                            <input type="text" inputmode="numeric" id="addition-time" class="form-control text-end"
                                   autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">秒</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade w-auto" id="multiplication-mode-config" role="tabpanel"
                 aria-labelledby="nav-contact-tab">
                <div class="row my-2">
                    <div class="col">
                        <label for="multiplication-digit-1" class="text-light">桁数</label>
                        <div class="input-group">
                            <input type="text" inputmode="decimal" id="multiplication-digit-1"
                                   class="form-control text-end" autocomplete="off">
                            <span class="input-group-text">桁</span>
                            <span class="input-group-text">×</span>
                            <label for="multiplication-digit-2"></label>
                            <input type="text" inputmode="decimal" id="multiplication-digit-2"
                                   class="form-control text-end" autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">桁</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row my-2">
                    <div class="col">
                        <label for="multiplication-length" class="text-light">口数</label>
                        <div class="input-group">
                            <input type="text" inputmode="decimal" id="multiplication-length"
                                   class="form-control text-end" autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">口</span>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <label for="multiplication-time" class="text-light">秒数</label>
                        <div class="input-group">
                            <input type="text" inputmode="numeric" id="multiplication-time"
                                   class="form-control text-end" autocomplete="off">
                            <div class="input-group-append">
                                <span class="input-group-text">秒</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="difficulty" class="text-light">難易度</label>
                <select id="difficulty" class="form-select" aria-label="size 3 select">
                    <option value="easy">かんたん</option>
                    <option value="normal">ふつう</option>
                    <option value="hard">むずかしい</option>
                </select>
            </div>
            <div class="col"></div>
        </div>
    </div>
    <div class="container display-none">
        <p id="answer-number"></p>
        <p id="number-history-stringify"></p>
    </div>
</div>

<!-- Modal -->
<!-- Common More Config -->
<div class="modal" id="commonMoreConfigModal" tabindex="-1" aria-labelledby="commonMoreConfigModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="commonMoreConfigModalLabel">Config</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <h5 class="mb-3">Sound</h5>
                    <div class="container">
                        <div class="btn-group w-auto mb-2" role="group">
                            <input type="checkbox" class="btn-check" id="is-muted" autocomplete="off"
                                   onclick="toggleMute();">
                            <label class="btn btn-outline-danger" for="is-muted" id="audio-status"></label>
                        </div>
                        <div class="input-group w-auto mb-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" for="sound-extension">Sound extension</label>
                            </div>
                            <select name="sound-extension" id="sound-extension"
                                    onchange="setSoundExtension(this.value);"
                                    class="form-select">
                                <option value="wav">wav</option>
                                <option value="ogg">ogg</option>
                            </select>
                        </div>
                    </div>
                </div>
                <hr class="my-3">
                <div>
                    <h5 class="mb-3">Timing</h5>
                    <div id="common-more-config" class="container w-auto">
                        <div class="row">
                            <div class="input-group mb-2 col">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Flash rate</span>
                                </div>
                                <label for="common-flashRate"></label>
                                <input type="number" inputmode="numeric" id="common-flashRate"
                                       class="form-control text-end">
                                <div class="input-group-append">
                                    <span class="input-group-text">％</span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-2 col">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Offset</span>
                                </div>
                                <label for="common-offset"></label>
                                <input type="number" inputmode="numeric" id="common-offset"
                                       class="form-control text-end">
                                <div class="input-group-append">
                                    <span class="input-group-text">ms</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Load Params -->
<div class="modal" id="loadParamsConfirmModal" tabindex="-1" aria-labelledby="loadParamsConfirmModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loadParamsConfirmModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>設定を読み込みますか？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                        onclick="loadParams();" data-bs-toggle="modal" data-bs-target="#loadParamsCompletedModal">
                    読み込む
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="loadParamsCompletedModal" tabindex="-1" aria-labelledby="loadParamsCompletedModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loadParamsCompletedModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>**SET BY JAVASCRIPT**</p>
            </div>
        </div>
    </div>
</div>
<!-- Save Params -->
<div class="modal" id="saveParamsConfirmModal" tabindex="-1" aria-labelledby="saveParamsConfirmModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="saveParamsConfirmModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>設定を保存しますか？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                        onclick="saveParams();" data-bs-toggle="modal" data-bs-target="#saveParamsCompletedModal">
                    保存する
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="saveParamsCompletedModal" tabindex="-1" aria-labelledby="saveParamsCompletedModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="saveParamsCompletedModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>設定を保存しました</p>
            </div>
        </div>
    </div>
</div>
<!-- Delete Params -->
<div class="modal" id="deleteParamsConfirmModal" tabindex="-1" aria-labelledby="deleteParamsConfirmModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteParamsConfirmModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>設定を削除しますか？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                        onclick="deleteParams();" data-bs-toggle="modal" data-bs-target="#deleteParamsCompletedModal">
                    削除する
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="deleteParamsCompletedModal" tabindex="-1" aria-labelledby="deleteParamsCompletedModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteParamsCompletedModalLabel">Flash Anzan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>設定を削除しました</p>
            </div>
        </div>
    </div>
</div>
<!-- Input Answer Params -->
<button type="button" id="openInputAnswerModal" class="btn btn-primary" data-bs-toggle="modal"
        data-bs-target="#inputAnswerModal"
        style="display: none;"></button>
<div class="modal" id="inputAnswerModal" tabindex="-1" aria-labelledby="inputAnswerModalLabel"
     data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="inputAnswerModalLabel">答えを入力してください</h5>
                <button type="button" id="closeInputAnswerModal" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close"
                        style="display: none;"></button>
            </div>
            <div class="modal-body">
                <p>Enter キーで送信します</p>
                <label for="input-answer-box" style="display: none;"></label>
                <input type="text" id="input-answer-box" inputmode="numeric" class="form-control" autocomplete="off">
            </div>
        </div>
    </div>
</div>
<!-- Number History -->
<div class="modal" id="numberHistoryModal" tabindex="-1" aria-labelledby="numberHistoryModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="numberHistoryModalLabel">Number History</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body mx-5">
                <table class="table">
                    <thead></thead>
                    <tbody>
                    <tr>
                        <td id="number-history-display" class="text-end abacus-font"></td>
                    </tr>
                    </tbody>
                    <tfoot>
                    <tr>
                        <td id="answer-number-display" class="text-end border-bottom-0 abacus-font"></td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Help -->
<div class="modal" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalLabel">Shortcut</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table table-borderless">
                    <tbody>
                    <tr>
                        <td>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col" colspan="2">General</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>ヘルプを開く</td>
                                    <td><kbd>Q</kbd></td>
                                </tr>
                                <tr>
                                    <td>環境設定を開く</td>
                                    <td><kbd>Ctrl</kbd><span class="px-1">+</span><kbd>,</kbd></td>
                                </tr>
                                <tr>
                                    <td>出題設定を読み込む</td>
                                    <td><kbd>Ctrl</kbd><span class="px-1">+</span><kbd>O</kbd></td>
                                </tr>
                                <tr>
                                    <td>出題設定を保存する</td>
                                    <td><kbd>Ctrl</kbd><span class="px-1">+</span><kbd>S</kbd></td>
                                </tr>
                                <tr>
                                    <td>出題設定を削除する</td>
                                    <td><kbd>Ctrl</kbd><span class="px-1">+</span><kbd>R</kbd></td>
                                </tr>
                                <tr>
                                    <td>フルスクリーンモードを切り替える</td>
                                    <td><kbd>W</kbd></td>
                                </tr>
                                <tr>
                                    <td>終了する</td>
                                    <td><kbd>Ctrl</kbd><span class="px-1">+</span><kbd>W</kbd><span
                                            class="px-2">または</span><kbd>Alt</kbd><span
                                            class="px-1">+</span><kbd>F4</kbd></td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                        <td>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col" colspan="2">Playing</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>出題する</td>
                                    <td><kbd>S</kbd></td>
                                </tr>
                                <tr>
                                    <td>前回の数字で出題する</td>
                                    <td><kbd>R</kbd></td>
                                </tr>
                                <tr>
                                    <td>出題された数字の履歴を見る</td>
                                    <td><kbd>N</kbd></td>
                                </tr>
                                <tr>
                                    <td>たし算モードに切り替える</td>
                                    <td><kbd>Z</kbd></td>
                                </tr>
                                <tr>
                                    <td>かけ算モードに切り替える</td>
                                    <td><kbd>C</kbd></td>
                                </tr>
                                </tbody>
                            </table>
                            <table class="table table-borderless">
                                <tbody>
                                <tr>
                                    <td>
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col" colspan="2">たし算</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>桁数を増やす</td>
                                                <td><kbd>U</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>桁数を減らす</td>
                                                <td><kbd>J</kbd></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col" colspan="2">かけ算</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>かけられる数の桁数を増やす</td>
                                                <td><kbd>Y</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>かけられる数の桁数を減らす</td>
                                                <td><kbd>H</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>かける数の桁数を増やす</td>
                                                <td><kbd>U</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>かける数の桁数を減らす</td>
                                                <td><kbd>J</kbd></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td>
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col" colspan="2">たし算・かけ算共通</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>口数を増やす</td>
                                                <td><kbd>I</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>口数を減らす</td>
                                                <td><kbd>K</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>秒数を増やす</td>
                                                <td><kbd>O</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>秒数を減らす</td>
                                                <td><kbd>L</kbd></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col" colspan="2">難易度設定</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>かんたん</td>
                                                <td><kbd>D</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>ふつう</td>
                                                <td><kbd>F</kbd></td>
                                            </tr>
                                            <tr>
                                                <td>むずかしい</td>
                                                <td><kbd>G</kbd></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="lib/complexity_map.js?ver=0.11.1"></script>
<script type="text/javascript" src="assets/globals.js?ver=0.11.1"></script>
<script type="text/javascript" src="assets/button_events.js?ver=0.11.1"></script>
<script type="text/javascript" src="assets/index.js?ver=0.11.1"></script>
</body>
</html>
